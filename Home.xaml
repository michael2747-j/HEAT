<!--
    File: Home.xaml
    Purpose: Defines layout for HEAT home screen, including analysis controls and chat log display
    Created: June 2 2025
    Last Modified: June 4 2025
    Authors: Anthony Samen / Cody Cartwright
-->

<UserControl
    x:Class="HEAT.Home" <!-- Sets code-behind class for this user control -->
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" <!-- Imports UI elements namespace -->
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" <!-- Imports XAML language namespace -->
    xmlns:local="using:HEAT" <!-- Imports local project namespace -->
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"> <!-- Imports WinUI controls namespace -->

    <Grid Background="Transparent" Padding="24"> <!-- Main layout grid with transparent background and padding -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- First row for buttons, height auto -->
            <RowDefinition Height="*"/> <!-- Second row for chat log, fills remaining space -->
        </Grid.RowDefinitions>

        <!-- Buttons Row -->
        <Grid Grid.Row="0" HorizontalAlignment="Stretch" Margin="0,0,0,8"> <!-- Button row, stretches horizontally, bottom margin -->
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/> <!-- Column 0: Start button -->
                <ColumnDefinition Width="*"/> <!-- Column 1: Pause button -->
                <ColumnDefinition Width="*"/> <!-- Column 2: Save button -->
                <ColumnDefinition Width="*"/> <!-- Column 3: Clear button -->
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0" Content="Start Network Analysis" Style="{StaticResource TabButtonStyle}" Click="StartNetworkAnalysis_Click"/> <!-- Button to start analysis -->
            <Button Grid.Column="1" Content="Pause Network Analysis" Style="{StaticResource TabButtonStyle}" Click="PauseNetworkAnalysis_Click"/> <!-- Button to pause analysis -->
            <Button Grid.Column="2" Content="Save Analysis State" Style="{StaticResource TabButtonStyle}" Click="SaveAnalysisState_Click"/> <!-- Button to save state -->
            <Button Grid.Column="3" Content="Clear Analysis Log" Style="{StaticResource TabButtonStyle}" Click="ClearAnalysisLog_Click"/> <!-- Button to clear log -->
        </Grid>

        <!-- Chatter Content Box -->
        <Border Grid.Row="1"
                BorderBrush="{StaticResource BorderBlue}" <!-- Uses shared blue border brush -->
                BorderThickness="4" <!-- Sets border thickness -->
                CornerRadius="12" <!-- Sets rounded corners -->
                Background="#1AFFFFFF" <!-- Sets semi-transparent white background -->
                Padding="0"
                VerticalAlignment="Stretch"
                HorizontalAlignment="Stretch"> <!-- Border fills available space -->
            <Grid>
                <!-- Logo and fire GIF layers -->
                <Grid>
                    <Image Source="Assets/logo.png"
                           Stretch="Uniform"
                           Opacity="0.18"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Height="180"/> <!-- Faint logo image centered -->
                    <Image x:Name="FireGif"
                           Source="Assets/fire.gif"
                           Stretch="Uniform"
                           Opacity="0.25"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Height="180"/> <!-- Faint animated fire GIF centered -->
                </Grid>
                <!-- Chat messages -->
                <ScrollViewer VerticalScrollBarVisibility="Auto"
                              VerticalScrollMode="Auto"
                              VerticalAlignment="Stretch"
                              HorizontalAlignment="Stretch"> <!-- Scrollable area for chat log -->
                    <ItemsControl x:Name="ChatterList"
                                  ItemsSource="{x:Bind ChatterLines, Mode=OneWay}"> <!-- Binds to ChatterLines collection -->
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel VerticalAlignment="Top" Margin="32,16,32,0"/> <!-- Stack panel for efficient rendering, top aligned, side margins -->
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate x:DataType="local:ChatterLine"> <!-- Template for each chat line -->
                                <TextBlock Text="{x:Bind DisplayText, Mode=OneWay}"
                                           Foreground="{x:Bind LineBrush, Mode=OneWay}"
                                           FontFamily="Consolas"
                                           FontSize="18"
                                           TextWrapping="Wrap"
                                           Margin="0,0,0,2"/> <!-- Displays chat text with styling -->
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </Grid>
        </Border>
    </Grid>
</UserControl>
