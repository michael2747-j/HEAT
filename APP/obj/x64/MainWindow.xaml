<Window
    x:Class="HEAT.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:HEAT"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    Title="HEAT">
    <Grid x:ConnectionId='2' x:Name="RootGrid" Background="#141414">
        <Grid.Resources>
            <Style x:Key="NoBorderFlyoutPresenterStyle" TargetType="FlyoutPresenter">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="BorderBrush" Value="Transparent"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="CornerRadius" Value="8"/>
                <Setter Property="Padding" Value="0"/>
                <Setter Property="MinWidth" Value="0"/>
                <Setter Property="MinHeight" Value="0"/>
                <Setter Property="Shadow" Value="{x:Null}"/>
            </Style>
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Top Navigation Bar -->
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Notification Bell -->
            <Button x:ConnectionId='4' x:Name="NotificationBell"
                    Style="{StaticResource IconButtonStyle}"
                    Width="36" Height="36"
                    Margin="10,4,0,4"
                    VerticalAlignment="Top"
                                                  >
                <muxc:FontIcon Glyph="&#xE7ED;" Foreground="{StaticResource IconColor}" Width="36" Height="36"/>
                <Button.Flyout>
                    <Flyout x:ConnectionId='16' x:Name="NotificationFlyout"
                            Placement="Bottom"
                            FlyoutPresenterStyle="{StaticResource NoBorderFlyoutPresenterStyle}">
                        <Border Background="#22252A"
                                BorderBrush="{StaticResource BorderBlue}"
                                BorderThickness="4"
                                CornerRadius="8">
                            <StackPanel Width="320" Background="#22252A" Padding="8">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,4">
                                    <Button x:ConnectionId='18' Content="Clear All Notifications"
                                                                            
                                            FontSize="12"
                                            Padding="6,2"
                                            Margin="0,0,4,0"/>
                                </StackPanel>
                                <ScrollViewer MaxHeight="300" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                                    <ItemsControl x:ConnectionId='17' x:Name="NotificationList"/>
                                </ScrollViewer>
                            </StackPanel>
                        </Border>
                    </Flyout>
                </Button.Flyout>
            </Button>

            <!-- Tabs -->
            <StackPanel Grid.Column="1" 
                       Orientation="Horizontal" 
                       HorizontalAlignment="Center" 
                       VerticalAlignment="Top" 
                       Margin="0,14,0,0">
                <Button x:ConnectionId='12' x:Name="HomeTab" Content="Home" Style="{StaticResource TabButtonStyle}"                  />
                <Button x:ConnectionId='13' x:Name="DashboardTab" Content="Dashboard" Style="{StaticResource TabButtonStyle}"                  />
                <Button x:ConnectionId='14' x:Name="LinksTab" Content="Links" Style="{StaticResource TabButtonStyle}"                  />
                <Button x:ConnectionId='15' x:Name="UpgradesTab" Content="Upgrades" Style="{StaticResource TabButtonStyle}"                  />
            </StackPanel>

            <!-- Settings Gear -->
            <Button x:ConnectionId='5' x:Name="SettingsButton"
                    Grid.Column="2"
                    Style="{StaticResource IconButtonStyle}"
                    Width="36" Height="36"
                    Margin="0,4,10,4"
                    VerticalAlignment="Top"
                    HorizontalAlignment="Right"
                                                >
                <muxc:FontIcon Glyph="&#xE713;" Foreground="{StaticResource IconColor}" Width="36" Height="36"/>
                <Button.Flyout>
                    <Flyout x:ConnectionId='6' x:Name="SettingsFlyout"
                            Placement="Bottom"
                            FlyoutPresenterStyle="{StaticResource NoBorderFlyoutPresenterStyle}">
                        <Border Background="#22252A"
                                BorderBrush="{StaticResource BorderBlue}"
                                BorderThickness="4"
                                CornerRadius="8">
                            <StackPanel Width="320" Background="#22252A" Padding="8" Spacing="8">
                                <TextBlock x:ConnectionId='7' x:Name="ReleaseVersionText" Text="v1.0.0" Foreground="White" FontWeight="Bold" FontSize="16" Margin="4,0,0,4"/>
                                <Rectangle Height="1" Fill="{StaticResource BorderBlue}" Margin="0,2,0,2"/>
                                <Button x:ConnectionId='8' Content="Check for Updates"                               FontSize="14" Padding="8,4"/>
                                <Button x:ConnectionId='9' Content="Replay Tutorial"                              FontSize="14" Padding="8,4"/>
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                    <TextBlock Text="Debug Mode" Foreground="White" FontSize="14" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                    <ToggleSwitch x:ConnectionId='11' x:Name="DebugModeToggle" OffContent="Off" OnContent="On" IsOn="False"                                  />
                                </StackPanel>
                                <Button x:ConnectionId='10' Content="About H.E.A.T"                         FontSize="14" Padding="8,4"/>
                            </StackPanel>
                        </Border>
                    </Flyout>
                </Button.Flyout>
            </Button>
        </Grid>

        <!-- Main Content Area - Centered and Top-Aligned -->
        <Border Grid.Row="1"
                Margin="12"
                CornerRadius="16"
                BorderBrush="{StaticResource BorderBlue}"
                BorderThickness="4"
                Background="#141414">
            <ContentControl x:ConnectionId='3' x:Name="TabContent"
                           HorizontalContentAlignment="Center"
                           VerticalContentAlignment="Top"/>
        </Border>
    </Grid>
</Window>

